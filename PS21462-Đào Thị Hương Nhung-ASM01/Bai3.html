<html>
  <head>
    <title>Dao Thi Huong Nhung</title>
    <meta charset="uft-8" />
    <style>
      .container { width: 700px; margin: auto;}
      #mucgia{ padding: 5px 0; width: 150px; text-align: center;}
      #table_SP {width: 100%; padding: 20px; background: yellow; font-size: 20px; }
      #table_SP tr{ background: deepskyblue; }
      #table_SP td, th { padding: 8px 0; text-align: center; }
      #table_SP [name='soluong'] {width: 90px; text-align: center; padding: 4px; }
      #table_SP tr:first-child{ background: wheat;}
      #table_SP .tong{color: red; font-weight: bold;}
    </style>
  </head>
  <body>
    <div class="container">
      <select name="" id="mucgia" onchange="doimucgia()">
        <option value="-1">Chon muc gia</option>
        <option value="200">Den 200</option>
        <option value="400">Den 400</option>
        <option value="600">Den 600</option>
        <option value="800">Den 800</option>
      </select>
      <table border="1" id="table_SP">
        <tr>
          <th colspan="2">Hang hoa</th>
          <th>Don gia</th>
          <th>So luong</th>
          <th>Thanh tien</th>
        </tr>
        <tr>
          <td><input onclick="tich1checkbox(0)"type="checkbox" name="chon" /></td>
          <td>iPhone 11</td>
          <td name="gia">700</td>
          <td><input onkeyup="thanhtien(this)" value="0" name="soluong" disabled /></td>
          <td name="thanhtien"></td>
        </tr>
        <tr>
          <td><input onclick="tich1checkbox(1)" type="checkbox" name="chon" /></td>
          <td>SamSung</td>
          <td name="gia">400</td>
          <td><input onkeyup="thanhtien(this)" value="0" name="soluong" disabled /></td>
          <td name="thanhtien"></td>
        
        </tr>
        <tr>
          <td><input onclick="tich1checkbox(2)" type="checkbox" name="chon" /></td>
          <td>Nokia</td>
          <td name="gia">100</td>
          <td><input onkeyup="thanhtien(this)" value="0" name="soluong" disabled /></td>
          <td name="thanhtien"></td>
          
        </tr>
        <tr>
          <td><input onclick="tich1checkbox(3)" type="checkbox" name="chon" /></td>
          <td>Sony</td>
          <td name="gia">450</td>
          <td><input onkeyup="thanhtien(this)" value="0" name="soluong" disabled /></td>
          <td name="thanhtien"></td>
          
        </tr>
        <tr>
          <td><input onclick="tich1checkbox(4)" type="checkbox" name="chon" /></td>
          <td>Oppo</td>
          <td name="gia">600</td>
          <td><input onkeyup="thanhtien(this)" value="0" name="soluong" disabled /></td>
          <td name="thanhtien"></td>
          
        </tr>
        <tr>
          <td><input onclick="tich1checkbox(5)" type="checkbox" name="chon" /></td>
          <td>Bphone</td>
          <td name="gia">90</td>
          <td><input onkeyup="thanhtien(this)" value="0" name="soluong" disabled /></td>
          <td name="thanhtien"></td>
          
        </tr>
        <tr class="tong">
          <td colspan="4">TONG</td>
          <td id="tinhtong">580</td>
        </tr>
      </table>
    </div>
  </body>
</html>
<script>
    function doimucgia() {
    var arrGia = document.getElementsByName ("gia");
    var obj = document.getElementById("mucgia");
    mucdangchon = obj.value;
    for(i=0; i<arrGia.length;i++){
        gia = parseFloat(arrGia[i].innerText);
        if (gia<mucdangchon || mucdangchon == -1) {
            arrGia[i].parentNode.style.display="";
        }
        else {
            arrGia[i].parentNode.style.display="none";
        }
    }//for
    tongtien();
    }                     
</script>
<script>
  function tich1checkbox(i){
    var arrSL = document.getElementsByName("soluong");
    arrSL[i].disabled = !arrSL[i].disabled;

    if(arrSL[i].disabled==true){
      arrSL[i].value=0;
      arrSL[i].parentNode.nextElementSibling.innerText="";
    }
    tongtien();
  }
</script>
<script>
  function thanhtien(obj){
    var soluong = obj.value;
    var gia = obj.parentNode.previousElementSibling.innerText;
    obj.parentNode.nextElementSibling.innerText = soluong*gia;
    tongtien();
  }
</script>
<script>
  function tongtien(){
    tt=0;
    var arrThanhTien = document.getElementsByName("thanhtien");
    for (i=0; i<arrThanhTien.length;i++){
      if (arrThanhTien[i].parentNode.style.display==""){
        tien = arrThanhTien[i].innerText;
        tt+=Number(tien);
      }
    }
    document.getElementById("tinhtong").innerText=tt;

  }
</script>